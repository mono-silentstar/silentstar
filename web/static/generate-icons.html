<!doctype html>
<html>
<head><title>Generate PWA Icons</title></head>
<body style="background:#111;color:#ccc;font-family:monospace;padding:2em">
<h2>PWA Icon Generator</h2>
<p>Click to generate and download PNG icons from icon.svg.</p>
<button id="go" style="padding:8px 16px;font-size:14px">Generate Icons</button>
<div id="out" style="margin-top:1em"></div>
<script>
document.getElementById('go').addEventListener('click', async () => {
  const sizes = [192, 512];
  const out = document.getElementById('out');
  out.textContent = 'Generating...';

  for (const size of sizes) {
    const img = new Image();
    img.src = 'icon.svg';
    await new Promise(r => { img.onload = r; });

    const canvas = document.createElement('canvas');
    canvas.width = size;
    canvas.height = size;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0, size, size);

    const blob = await new Promise(r => canvas.toBlob(r, 'image/png'));
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'icon-' + size + '.png';
    a.textContent = 'icon-' + size + '.png';
    a.style.cssText = 'display:block;color:#8b8ec8;margin:8px 0';
    a.click();
    out.appendChild(a);
  }

  out.insertAdjacentText('beforeend', ' Done! Move the downloaded files to web/static/');
});
</script>
</body>
</html>
